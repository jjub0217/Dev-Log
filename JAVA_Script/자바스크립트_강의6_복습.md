# 함수란?

함수 표현식: 함수 리터럴이 온다. 함수 리터럴이 오면 이름을 붙여도 되고 안붙여도 된다. 일반적으로는 안쓴다. 왜 안붙일까? 헷갈리잖아. 



파스칼 케이스(앞에가 대문자)로 되어있는 영어는 전부 생성자 함수 또는 클래스라고 한다. 자스가 우리한테 쓰라고 주는 함수다. 얘네들은 객체를 생성용 함수다. (클래스도 함수다)



함수는 식별자로 호출하는 것이다. 자기 자신을 호출해야 할 필요가 있다고 하면(=재귀)

자기가  자기를 호출하는거다. 자기가 자기를 호출하면 또 걔가 나를 호출하고, 결국엔 무한루프가 된다. 그래서 반드시 탈출조건이 있어야 한다. 탈출조건을 잘못 만들면 스택 오버 플로어라는 에러가 난다. 재귀를 웬만해서는 안쓴다 . 어떨때 쓴다? 포문이랑 똑같다. 알고리즘에서 쓴다. 또는 예를 들어서 몇번 반복해야 할지 모를때, 예를 들어서 딥카피 같은 경우다. 프로퍼티 안에 들어갔는데 또 프로퍼티 안의 값이 객체고 이렇게 몇번 반복해야 할지 모를때 재귀를 쓰고 그 외에는 와일문으로 루프를 고치면 된다. 

 

생성자 함수는 쓸일도 없을거고, 써도 안된다. 쓰면 안된다. 그럼 왜 있을까? 됏어.  



화살표 함수는 우리가 나중에 집중적으로 공부할거야. 꽤나 중요해서. 왜냐면 얘는 일반 함수랑 여러 측면에서 다르다. 



## 

```javascript
function foo(x) {
x = x + 1;
}
var x = 1;
foo(a);
```

```javascript
비순수 함수
function foo(x) {
x = x + a;
}
var x = 1;
var a - 10;
foo(a);   -> foo 함수는 .... x  값에 의존하고 있는 것이다. x 값이 바뀌면 함수의 리턴값도 바뀐다. 동일한 인수값을 전달해도 ....
console.log(x);  //  11
```



그런식으로 동작하는 함수들을 비순수함수라고 한다.

순수함수는 외부에 있는 값을 변경하지 않는다. 

예를 들어서 

순수함수들은 동일한 인수를 주면 동일한 리턴이 보장된다. 인수가 같으면 리턴이 같다.

비순수함수들은 



프로그래밍은 외부값에 의존하게 되면 외부값이 바뀌면 리턴값이 바뀐다. 

외부에 있는 값을 직접 고쳐가는 애들도 비순서 함수라고 한다. 

그래서 함수형 프로그래밍 언어라고 있는데 거기서 순수함수를 지향 한다. 백퍼센트는 아니더라도 가급적 순수함수를 만들어야 겟다. 가 함수형 프로그래밍인다. 



 

## 다양한 함수의 형태

### 즉시 실행 함수

함수긴 함수인데 즉시 실행한다.  정의 되자 마자 즉시 실행된다는 뜻이다. 

아까 함수 리터럴 얘기할때 얘는 일단 이름이 없으니까 무조건 함수 리터럴이다.

이름있다고 가정하면 두개로 해석될수 있잖아.  

```javascript
// 익명 즉시 실행 함수
(function () {   -> 여기서 ( ) 이게 이름이 잇다고 하면 두가지 해석이 잇다. 
코드블록 안에 값이 와야 한다. 코드 블록 안은 함수 리터럴이다. 
  var a = 3;
  var b = 5;
  return a * b;
}());-> ( ) 이건 호출 연산자다. 
```

자스는 var 키워드인 경우에는 중복을 허용한다.

클로저를 만들기 위해서 쓸때가 많다.

지역을 하나 만들기 위해서 사용한다.

```javascript
ex)
var x = 1;
var x = 10;

```

그룹 연산자가 아니더라고 함수 객체를 만들수 잇는 표현식으로 만들수 있다면 꼭 그룹연산자를 안써도 된다. 함수호출문을 그룹연산자 안에 넣어도 되고 밖에 넣어도 된다. 

```
(function () {
  // ...
}()); -> 이렇게 써도 된다.

(function () {
  // ...
})();   -> 이렇게 써도 된다. 이게 좋을거 같다. 

!function () {
  // ...
}();

+function () {
  // ...
}();
```

즉시 실행함수에도 인수를 전달할수도 있고 리턴을 받을수도 있다. 





## 재귀 함수

함수가 자기 자신을 호출하는 걸 재귀호출이라고 한다. 

함수내부에서 자신을 호출하는거다.

함수 리터럴의 함수이름, 얘가 왜 함수내부에서만 유효하게 설계가 되엇을까? 재귀를 위해서 그렇게 설계되었다. 그리고 재귀함수라고 하면,  함수 바디에서 함수 몸체에서 자기를 호출하는 문이 있으면 그걸 재귀함수라고 한다.

아주 전형적인 예제가 있다. 외워라...... 코드를 외워라...... 재귀를 꼭 알고싶다면...

무한반복을 하기때문에 꼭 탈출을 해야한다.

탈출을 안하면 무한반복 하게 된다. 조심해야한다. 



## 중첩 함수 (중요하다)

콜백 함수와 친척이다. 같이 이해를 해야 한다.

함수가 중첩됬다는 뜻이다. 어디에 중첩이 되었다? 함수 안에 함수를 선언하였다는 뜻이다. 

```javascript
function outer() {
  var x = 1;

  // 중첩 함수
  function inner() {
    var y = 2;
    // 외부 함수의 변수를 참조할 수 있다.
    console.log(x + y); // 3
  }

  inner();
}

outer();
```

컴퓨터 함수에서는 중첩이라는 뜻은 '부자' 관계라고 한다. (= '부모'관계)

의미론적으로 부자관계를 가지고 있다. 의미론적으로 부자관계라고 하는건 스코프가 연결되는데, 얘의 스코프가 얘의 스코프가 있고, 얘의 스코프가 있을것이다.  이 스코프가 이 스코프의 자식같은 개념이다. 

중첩함수는 어떤 개념에서 바라봐야 하냐? 중첩함수를 왜 만들까? 왜 만들었을까? 함수 내부에서도 똑같은 일을 여러번 할 수도 있잖아.

중첩함수는 외부 함수의 헬퍼 역할을 한다. 외부 함수가 뭘 할건데, 중첩함수가 도와주는 거다. 일의 일부를 중첩함수가 한다.  

그런데 클로저랑 밀접한 관계가 있다.

## 콜백 함수

반복을 하는 행위를 하는 함수다.  

포문을 내포하고 있는 함수를 만든다. 

그래서 인수로 숫자를 주면 그 숫자만큼 반복한다. 안에서 포문이 그 만큼 반복한다. 

근데 이 함수에는 문제가 잇다. 왜 반복을 하지? 반복을 하면서 뭔가를 해야 하잖아. 콘솔로그가 반복하면서 하는일이다. 리피트라고 하는 함수는 뭐냐면 반복하는 횟수를 내가 조절할수 잇는데, 반복하면서 하는 일은 조절할수 없다. 고정이 되어있다. 포() 랑 콘솔로그 부분이 반복한다. 리핏()은 조절할수 잇는데 포()콘솔로그 는 조절할수 없다. 

횟수를 인수로 준것처럼 하는 일을 인수로 줄수 없을까? 반복 하는 일이 바뀔수 잇잖아. 그 일을 인수를 전달하는 것처럼 줄순 없을까? 콘솔로그 아이가 아니라 무슨 일을 주더라도 그 일을 반복하면서 하겠구나. 만약에 그게 안된다면 여기서 할일이 바뀔때마다 함수를 만들어야 한다. 리핏1 리핏2 처럼...

반복하면서 하는 일만 다르다.

 리핏 계열 함수 : 첫번째는 반복한다. 두번째는 반복하면서 뭔가 한다. 반복한다는 것은 정해진것이다. 안 바뀐다. 뭐만 바뀌냐? 반복하면서 하는 일만 바뀜. 그러면 반복하면서 하는 일만 외부에서 전달해주면 여러가지 일을 하나의 함수로 할수 있다. 그게 콜백 함수다. 

이건 함수 호출문이다. 할일을 준다고 햇는데, 그 할일은 함수가 할 일이다. 함수는 동사잖아.

함수라는건 호출해야 의미가 잇는건데 받은놈이 호출해야 겠지. 리피트한테 반복할 횟수와 할 일을 준거다. 그럼 얘가 내부에서  얘를 호출한다. 이때 얘를 콜백함수라고 한다. 얘는 고차함수라고 한다. 

함수의 할일을 외부에서 주입하는거다. 외부에서 콜백함수로 주면 우리가 할일을 만들어서 주면 되잖아. 

자율화가 훨씬 높다. 그러면 얘가 로그올이라고 하는 다 출력하는 함수를 전달했어. 얘가 인수가 있잖아.

인수를 받아야 출력할 애를 결정하지. 리피트가 로그올을 이렇게 전달할텐데 이 함수를 얘가 호출해야 해.어디서 호출해? 포문안에서. 호출하면서 인수를 줄수가 있다 없다? 있다. 호출하는 사람이 인수를 주는거니까 있다. 얘가 호출하면서 인수를 줄수가 있다. 

콜백함수는 사용빈도가 많다.





예습 : 13. 14, 15 예습





























